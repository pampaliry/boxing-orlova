import{g as N,h as v,i as f,j as u,r as t,f as g,o as _,w as n,b as s,k as z,l as B,d as b,n as M,_ as T,c as h,a as y}from"./C7mQ3BXG.js";const q=N({name:"ContactForm",__name:"ContactForm",setup(x){const e=v({name:"",email:"",message:""}),a=v({name:"",email:"",message:""}),r=f(!1),m=f(!1);u(()=>e.name,l=>{a.name=l.trim().length<2?"Zadaj aspoň 2 znaky.":""}),u(()=>e.email,l=>{const o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;a.email=o.test(l)?"":"Zadaj platný e-mail."}),u(()=>e.message,l=>{a.message=l.trim().length<10?"Správa musí mať aspoň 10 znakov.":""});const i=async()=>{e.name="",e.email="",e.message="",await M(),a.name="",a.email="",a.message=""},d=async()=>{if(r.value=!0,m.value=!1,a.name||a.email||a.message){r.value=!1;return}try{(await $fetch("/api/send-contact",{method:"POST",body:{name:e.name,email:e.email,message:e.message}})).success&&(m.value=!0,await i())}catch(l){console.error("Chyba pri odosielaní:",l)}finally{r.value=!1}};return(l,o)=>{const p=t("v-text-field"),k=t("v-textarea"),V=t("v-btn"),w=t("v-alert"),j=t("v-form"),C=t("v-col"),S=t("v-row"),F=t("v-container");return _(),g(F,{class:"my-12",fluid:""},{default:n(()=>[s(S,{justify:"center"},{default:n(()=>[s(C,{cols:"12",md:"10"},{default:n(()=>[s(j,{"aria-label":"Kontaktný formulár",role:"form",onSubmit:z(d,["prevent"])},{default:n(()=>[s(p,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=c=>e.name=c),label:"Meno",placeholder:"Tvoje meno","error-messages":a.name,required:"",outlined:"",class:"mb-4","aria-label":"Meno"},null,8,["modelValue","error-messages"]),s(p,{modelValue:e.email,"onUpdate:modelValue":o[1]||(o[1]=c=>e.email=c),label:"Email",placeholder:"tvoj@email.com","error-messages":a.email,required:"",type:"email",outlined:"",class:"mb-4","aria-label":"Emailová adresa",autocomplete:"email",inputmode:"email"},null,8,["modelValue","error-messages"]),s(k,{modelValue:e.message,"onUpdate:modelValue":o[2]||(o[2]=c=>e.message=c),label:"Správa",placeholder:"Napíš svoju správu...","error-messages":a.message,rows:"4",required:"",outlined:"",class:"mb-4","aria-label":"Správa"},null,8,["modelValue","error-messages"]),s(V,{loading:r.value,color:"secondary",class:"mt-4",type:"submit","aria-label":"Odoslať správu"},{default:n(()=>[...o[3]||(o[3]=[b(" Odoslať ",-1)])]),_:1},8,["loading"]),m.value?(_(),g(w,{key:0,type:"success",class:"mt-4",role:"alert","aria-live":"polite"},{default:n(()=>[...o[4]||(o[4]=[b(" Správa bola úspešne odoslaná! ",-1)])]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}}),E={};function K(x,e){const a=t("v-card-title"),r=t("v-card-text"),m=t("v-col"),i=t("v-row"),d=t("v-container"),l=q,o=t("v-card");return _(),h("section",null,[s(o,{"d-flex":"","justify-center":""},{default:n(()=>[s(d,{fluid:""},{default:n(()=>[s(i,{justify:"center"},{default:n(()=>[s(m,{cols:"10"},{default:n(()=>[s(a,{class:"text-center"},{default:n(()=>[...e[0]||(e[0]=[y("h1",{"aria-label":"Kontaktný formulár"}," Kontaktný formulár ",-1)])]),_:1}),s(r,{class:"text-center"},{default:n(()=>[...e[1]||(e[1]=[y("p",null," je plne funkčný a čaká na vaše správy. Môžete ho použiť na odoslanie správ, otázok alebo spätnej väzby. ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),s(l)]),_:1})])}const U=T(E,[["render",K]]);export{U as default};
